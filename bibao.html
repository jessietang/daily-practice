<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    /*function test1(){
        var num1 = 2;
        num2 = 3;
    }
    test1();
    //console.log(num1); // error: num1 is not defined
    console.log(num2);*/ // 3 不使用var定义变量时，默认是全局变量

    //闭包只能取得包含函数中任何变量的最后一个值
    /*function test2(){
        var result = [];
        for(var i=0; i<10; i++){
            result[i] = function(){
                return i;
            };
        }
        return result;
    }
    console.log(test2());
    console.log(test2()[1]()); // 10
    for(var i=0; i<test2().length; i++){
        console.log(test2()[i]()); // 10, 10, 10, ...
    }*/

    /*function test3(){
        var result = [];
        for(var i=0; i<10; i++){
            result[i] = function(num){
                return function(){
                    return num;
                };
            }(i);
        }
        return result;
    }
    console.log(test3()[1]()); // 1
    for(var i=0; i<10; i++){
        console.log(test3()[i]()); // 0, 1, 2, 3
    }*/



    //截取字符串abcdefg的efg
    /*var str = 'abcdefg';
    console.log(str.substring(4));
    console.log(str.substring(2,5)); // [start,end )*/



    //获取json对象的长度
    function getJsonLength(json){
        var jsonLength = 0;
        for(var i in json){
            jsonLength++;
        }
        return jsonLength;
    }




    //判断一个字符串中出现次数最多的字符，统计这个次数
    /*var str = 'bfusaghaukhalastua';
    var json = {};
    for(var i=0; i<str.length; i++){
        if(!json[str.charAt(i)]){
            json[str.charAt(i)] = 1;
        }else{
            json[str.charAt(i)]++;
        }
    }
    //console.log(json); // {b: 1, f: 1, u: 3, s: 2, a: 5…}
    //console.log(getJsonLength(json));  // 10
    var iMax = 0, iIndex = '';
    for(var i in json){
        if(json[i] > iMax){
            iMax = json[i];
            iIndex = i;
        }
    }
    console.log('字符出现次数最多的是：'+iIndex+',次数是：'+iMax); //字符出现次数最多的是：a,次数是：5*/



    //6，javascript面向对象中继承实现
     /*function Person(name){
     this.name = name;
     }

     Person.prototype.showName = function(){
     alert(this.name);
     };

     function Worker(name, job){
     Person.apply(this,arguments);
     this.job = job;
     }

     for(var i in Person.prototype){
     Worker.prototype = Person.prototype;
     }

     new Worker('sl', 'coders').showName();
     */

    // 编写一个方法 去掉一个数组的重复元素
     /*function unique1(arr){
         var result = [], isRepeated;
         for(var i = 0; i < arr.length; i++){
             isRepeated = false;
             for(var j=0; j<result.length; j++){
                 if(arr[i] === result[j]){
                     isRepeated = true;
                     break;
                 }
             }
             if(!isRepeated){
                 result.push(arr[i]);
             }
         }
         return result;
     }
    var arr = [1,2,3,3,2,1,2,3,2,1];
    console.log(unique1(arr));


    function unique2(arr){
        var result = [];
        var hash = {};
        for(var i= 0,elem; (elem = arr[i]) != null; i++){
            if(!hash[elem]){
                result.push(elem);
                hash[elem] = true;
            }
        }
        return result;
    }
    console.log(unique2(arr));



    function unique(arr){
        var result = [];
        var isRepeated;
        for(var i=0; i<arr.length; i++){
            isRepeated = false;
            for(var j=0; j<result.length; j++){
                if(arr[i] === result[j]){
                    isRepeated = true;
                    break;
                }
            }
            if(!isRepeated){
                result.push(arr[i]);
            }
        }
    }*/


    //如何深度克隆
     var arr = [1,2,43];
     var json = {a:6,b:4,c:[1,2,3]};
     var str = 'sdfsdf';

     var json2 = clone(json);

     alert(json['c']);

     function clone(obj){
         var oNew = new obj.constructor(obj.valueOf());
         if(obj.constructor == Object){
             for(var i in obj){
                 oNew[i] = obj[i];
                 if(typeof(oNew[i]) == 'object'){
                    clone(oNew[i]);
                 }
             }
         }
         return oNew;
     }


    //12，JavaScript中如何检测一个变量是一个String类型？请写出函数实

    /*typeof(obj) == 'string'
    obj.constructor == String;*/

    //网页中实现一个计算当年还剩多少时间的倒数计时程序，
    // 要求网页上实时动态显示“××年还剩××天××时××分××秒”
    var oDate = new Date();
    var oYear = oDate.getFullYear();
    var oNewDate = new Date();
    oDate.setFullYear(, 11, 31, 23, 59, 59);
    oDate.getTime();


</script>
</body>
</html>