<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>使用observable数组</title>
</head>
<body>
<script src="../knockout.js"></script>
<script type="text/javascript">
    var myObservableArray = ko.observableArray([
        {name: "a1a2a3", type: "A1", age: 22},
        {name: "bbb", type: "B1", age: 21},
        {name: "ccc", type: "C1", age: 23}
    ]);
    console.log('the length of the array is ' + myObservableArray().length);
    console.log('the first element is ' + myObservableArray()[0].type);

    /*下面讲解的均是observableArray的读取和写入的相关函数*/
    console.log(myObservableArray()[0].name.indexOf('2a')); // 3

    console.log(myObservableArray.slice(1,3)); // [{name: "bbb", type: "B1"},{name: "ccc", type: "C1"}]

    /*pop, push, shift, unshift, reverse, sort, splice

     所有这些函数都是和JavaScript数组原生函数等价的，唯一不同的数组改变可以通知订阅者：*/
    myObservableArray.push({name:"ddd", type:"D1"});
    console.log('now,the length of the array is ' + myObservableArray().length);

    myObservableArray.pop({name:"ddd", type:"D1"});
    console.log('now,the length of the array is ' + myObservableArray().length);

    myObservableArray.unshift({name:"ddd", type:"D1"});
    console.log('now,the length of the array is ' + myObservableArray().length);

    myObservableArray.shift({name:"ddd", type:"D1"});
    console.log('now,the length of the array is ' + myObservableArray().length);

    myObservableArray.reverse();
    console.log(myObservableArray()[0].type); // C1

    myObservableArray.remove(function(item){return item.age>21});
    console.log(myObservableArray()[0].type); // B1





    ko.applyBindings(myObservableArray);
</script>
</body>
</html>