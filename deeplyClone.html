<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>深度克隆---js对象引用</title>
</head>
<body>
<script>
    //example 01
   /* var a = [1,2,3];
    var b = a; // a b共用一个引用
    b.push(4);
    alert(b); // [1,2,3,4]
    alert(a); // [1,2,3,4]*/


    //example 02
    /*var a = [1,2,3];
    var b = a;
    b = [1,2,3,4]; // b新开了一个引用
    alert(b); // [1,2,3,4]
    alert(a); // [1,2,3] */


    //example 03
    /*var obj = {
        a: 10
    };
    var obj2 = obj;
    obj2.a = 20;
    alert(obj.a); // 20*/


    //example 04
    /*var obj = {
        a: 10
    };
    function copy(obj){ // 浅拷贝, 只拷贝的一层
        var newObj = {};
        for(var attr in obj){
            newObj[attr] = obj[attr];
        }
        return newObj;
    }
    var obj2 = copy(obj);
    obj2.a = 20;
    alert(obj.a); // 10
    */


    // example 05
   /* var obj = {
        a: {
            b: 10
        }
    }
    function copy(obj){  //浅拷贝， 只拷贝了一层
        var newObj = {};
        for(var attr in obj){
            newObj[attr] = obj[attr];
        }
        return newObj;
    }
    var obj2 = copy(obj);
    obj2.a.b = 20;
    alert(obj.a.b);  // 20 */


    //example 06 求nX(n-1)X(n-2)X...X2X1
    // 递归：（1）函数调用函数自身，执行递的动作
    //      （2）最后一次判断一个终止条件，可以执行归的动作
    /*function test(n){
        if(n == 1){
            return 1;
        }
        return n*test(n-1);
    }
    alert(test(5));
*/



    //example 07 深拷贝
    var obj = {
        a: {
            b: 10
        }
    };

    //alert(typeof obj);
    function deepCopy(obj){
        var newObj = {};
        if(typeof obj != 'object'){
            return obj;
        }
        for(var attr in obj){
            newObj[attr] = deepCopy(obj[attr]);
        }
        return newObj;
    }
    var obj2 = deepCopy(obj);
    obj2.a.b = 20;
    alert(obj.a.b); // 10


    var m = 1;
    var n = deepCopy(m);
    alert(n); // 1


</script>
</body>
</html>