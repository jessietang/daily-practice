<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>侧边栏停靠</title>
    <style>
        *{
            margin:0;
            padding:0;
        }
        body{background:#eee;}
        #header{
            width:90%;
            height:400px;
            line-height:400px;
            margin:0 auto;
            background:#ddd;
            text-align:center;
        }
        #container{
            width:90%;
            height:2000px;
            margin:0 auto;
            background:#eedd33;
            overflow:hidden;
            position:relative;
        }
        #container .leftC{
            width:25%;
            float:left;
            height:500px;
            background:green;
        }
        #container .content{
            width:70%;
            margin-bottom:-9999px;
            padding-bottom:9999px;
            background:red;
            float:right;
        }
        #footer{
            width:90%;
            height:200px;
            text-align:center;
            line-height:200px;
            background:black;
            color:white;
            margin:0 auto;
        }
    </style>
</head>
<body>
    <div id="header">标题栏</div>
    <div id="container">
        <div class="leftC">侧边栏</div>
        <div class="content">具体内容</div>
    </div>
    <div id="footer">底部版权</div>
    <script src="../js/jquery-1.11.2.js"></script>
    <script>
        $(function(){
            $(window).on('scroll', function(){
                var scrollHeight = $(window).scrollTop();
                var titleHeight = $('#header').height();
                var contentHeight = $('#container').height() - $('.leftC').height();

                //这里leftC是相对于container定位的
                if(scrollHeight > titleHeight && scrollHeight < titleHeight + contentHeight){
                    $('.leftC').css({
                        "position": "absolute",
                        "left": 0,
                        "top": scrollHeight-titleHeight
                    });
                    /*alert('1');
                    alert($('.leftC').css('top'));*/
                }else if(scrollHeight < titleHeight){
                    $('.leftC').css({
                        "position": "absolute",
                        "left": 0,
                        "top": 0
                    });
                    alert('2');
                }
            });
        });
    </script>
</body>
</html>